@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
@import url('https://fonts.googleapis.com/css?family=Raleway:900&display=swap');
@import url('https://fonts.googleapis.com/css?family=Lato:600');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- CSS Variables (theme) ---------- */
@layer base {
  :root {
    --background: 0 1% 66%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    /* Theme accent color - updated dynamically via ThemeContext */
    --accent-color: #60A5FA;
    --accent-color-hover: #3b82f6;
    --accent-color-light: #60A5FA1A;
    --accent-color-shadow: #60A5FA40;
  }

  /* Dark mode variables */
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

/* ---------- Rotating text animation ---------- */
.rotating-text {
  font-weight: 600;
  transform: translateX(-40px);
}

.rotating-text p {
  display: inline-flex;
  margin: 0;
  vertical-align: top;
}

.rotating-text .word {
  position: absolute;
  display: flex;
  opacity: 0;
}

.rotating-text .letter {
  transform-origin: center center 25px;
}

.rotating-text .letter.out {
  transform: rotateX(90deg);
  transition: 0.32s cubic-bezier(0.6, 0, 0.7, 0.2);
}

.rotating-text .letter.in {
  transition: 0.38s ease;
}

.rotating-text .letter.behind {
  transform: rotateX(-90deg);
}

/* ---------- Base resets ---------- */
@layer base {
  * {
    @apply border-border;
  }
  html,
  body {
    @apply text-foreground bg-white dark:bg-neutral-950;
    min-height: 100vh;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
}

* {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

/* ---------- Leaflet map overrides ---------- */
.leaflet-bottom,
.leaflet-control,
.leaflet-pane,
.leaflet-top {
  z-index: 0 !important;
}

/* ---------- Date range picker overrides ---------- */
.rdrMonth {
  width: 100% !important;
}

.rdrCalendarWrapper {
  font-size: 16px !important;
  width: 100% !important;
}

/* ---------- Next.js wrapper ---------- */
#__next {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

main {
  flex: 1;
}

/* ===========================
   Shadow Rolling Loader
   =========================== */
.loader {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  display: block;
  margin: 15px auto;
  position: relative;
  color: #60A5FA; /* ðŸ‘ˆ Tailwind sky-400 blue fallback */
  left: -100px;
  box-sizing: border-box;
  animation: shadowRolling 2s linear infinite;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translate3d(0, 8px, 0); }
  to   { opacity: 1; transform: translate3d(0, 0, 0); }
}

@keyframes shimmer {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes shadowRolling {
  0% {
    box-shadow:
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0);
  }
  12% {
    box-shadow:
      100px 0 currentColor,
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0);
  }
  25% {
    box-shadow:
      110px 0 currentColor,
      100px 0 currentColor,
      0px 0 rgba(96, 165, 250, 0),
      0px 0 rgba(96, 165, 250, 0);
  }
  36% {
    box-shadow:
      120px 0 currentColor,
      110px 0 currentColor,
      100px 0 currentColor,
      0px 0 rgba(96, 165, 250, 0);
  }
  50% {
    box-shadow:
      130px 0 currentColor,
      120px 0 currentColor,
      110px 0 currentColor,
      100px 0 currentColor;
  }
  62% {
    box-shadow:
      200px 0 rgba(96, 165, 250, 0),
      130px 0 currentColor,
      120px 0 currentColor,
      110px 0 currentColor;
  }
  75% {
    box-shadow:
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0),
      130px 0 currentColor,
      120px 0 currentColor;
  }
  87% {
    box-shadow:
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0),
      130px 0 currentColor;
  }
  100% {
    box-shadow:
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0),
      200px 0 rgba(96, 165, 250, 0);
  }
}

/* ===========================
   Quick Flash Effect
   =========================== */
@keyframes quickFlash {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
    filter: brightness(2);
  }
  100% {
    opacity: 1;
    filter: brightness(1);
  }
}

.flash-animation {
  display: inline-block;
  animation: quickFlash 0.3s ease-out forwards;
}

/* ===========================
   Sidebar Arrow Animations
   =========================== */
@keyframes pulseLeft {
  0%, 100% {
    opacity: 0.4;
    transform: translateX(0);
  }
  50% {
    opacity: 1;
    transform: translateX(-2px);
  }
}

@keyframes pulseRight {
  0%, 100% {
    opacity: 0.4;
    transform: translateX(0);
  }
  50% {
    opacity: 1;
    transform: translateX(2px);
  }
}
